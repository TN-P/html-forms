<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        h2 { margin-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background: #667eea; color: white; }
        button { padding: 5px 8px; cursor: pointer; }
        .counter { font-weight: bold; margin-top: 10px; }
        @media(max-width:600px){
            table { font-size: 12px; }
        }
    </style>
</head>
<body>

<h2>Form Submissions</h2>
<p class="counter">Total Submissions: <span id="count"></span></p>

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Subject</th>
            <th>Message</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="tableBody"></tbody>
</table>

<script>
let submissions = JSON.parse(localStorage.getItem("submissions")) || [];
let tableBody = document.getElementById("tableBody");
let count = document.getElementById("count");

function renderTable(){
    tableBody.innerHTML = "";
    submissions.forEach((data, index) => {
        tableBody.innerHTML += `
            <tr>
                <td>${data.name}</td>
                <td>${data.email}</td>
                <td>${data.subject}</td>
                <td>${data.message}</td>
                <td><button onclick="deleteEntry(${index})">Delete</button></td>
            </tr>
        `;
    });
    count.textContent = submissions.length;
}

function deleteEntry(index){
    submissions.splice(index, 1);
    localStorage.setItem("submissions", JSON.stringify(submissions));
    renderTable();
}

renderTable();
</script>

</body>
</html>
